<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/sandstone/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/solarized-light.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-grid.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/ag-grid/24.0.0/styles/ag-theme-balham.min.css" rel="stylesheet" type="text/css">
        <link href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet" type="text/css">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
        <!-- The loading of KaTeX is deferred to speed up page rendering -->
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    </head>
    <body>
        <p id="loading">Loading ...</p>
        <div id="app"></div>
    </body>
    <script id="state" type="text">"{:options {:reverse-notes? false, :header? false, :notes-in-cards? false, :initially-collapse? false, :auto-scroll? false, :port 1903, :custom-header [:div {:style {:font-style \"italic\", :font-family \"\\\"Lucida Console\\\", Courier, monospace\"}} \"(notespace)\" [:p \"Sun Aug 15 23:29:49 IDT 2021\"] nil [:hr]], :custom-footer [:div [:hr] [:hr]]}, :ids [\"237\" \"238\" \"239\" \"240\" \"241\" \"242\" \"243\" \"244\" \"245\" \"246\" \"247\" \"248\" \"249\" \"250\" \"251\" \"252\" \"253\" \"254\" \"255\" \"256\" \"257\" \"258\" \"259\" \"260\" \"261\" \"262\"], :id->content {\"258\" [:div [:p] [:div [:p/code {:code \"(-> original-tensor\\n    tensor->img)\", :bg-class \"bg-light\"}]] nil [:img {:src \"notespace-files/942147.jpg\", :width 400}]], \"253\" [:div [:p] [:div [:p/code {:code \"(def blue\\n  (-> original-tensor\\n      (tensor/slice-right 1)\\n      (nth 0)))\", :bg-class \"bg-light\"}]] nil nil], \"237\" [:div [:p] [:div [:p/code {:code \"(require '[notespace.kinds :as kind]\\n         '[tech.v3.datatype :as dtype]\\n         '[tech.v3.datatype.functional :as fun]\\n         '[tech.v3.tensor :as tensor]\\n         '[tech.v3.libs.buffered-image :as bufimg]\\n         '[image-demo-1.helper :as helper])\", :bg-class \"bg-light\"}]] nil nil], \"238\" [:div [:p] nil nil nil], \"251\" [:div [:p] [:div [:p/code {:code \"original-shape\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"[1299 1920 3]\\n\"}]], \"259\" [:div [:p] [:div [:p/code {:code \"(defn color-component->tensor-for-img [component color-idx]\\n  (tensor/compute-tensor original-shape\\n                         (fn [i j k]\\n                           (if (= k color-idx)\\n                             (component i j)\\n                             0))\\n                         :uint8))\", :bg-class \"bg-light\"}]] nil nil], \"249\" [:div [:p] [:div [:p/code {:code \"(dtype/shape original-tensor)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"[1299 1920 3]\\n\"}]], \"244\" [:div [:p] [:div [:p/code {:code \"(dtype/shape original-img)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"[1299 1920 3]\\n\"}]], \"247\" [:div [:p] [:div [:p/code {:code \"original-tensor\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"#tech.v3.tensor<uint8>[1299 1920 3]\\n[[[ 54 131  97]\\n  [ 46 123  89]\\n  [ 47 124  90]\\n  ...\\n  [132 171 156]\\n  [131 170 155]\\n  [129 168 153]]\\n [[ 51 128  94]\\n  [ 47 124  90]\\n  [ 52 129  95]\\n  ...\\n  [134 173 158]\\n  [134 173 158]\\n  [134 173 158]]\\n [[ 56 136 101]\\n  [ 47 127  92]\\n  [ 43 123  88]\\n  ...\\n  [133 172 156]\\n  [134 173 157]\\n  [135 174 158]]\\n ...\\n [[132 174 143]\\n  [131 173 142]\\n  [131 174 141]\\n  ...\\n  [108 149 111]\\n  [122 164 123]\\n  [128 171 128]]\\n [[128 172 141]\\n  [127 171 140]\\n  [127 172 139]\\n  ...\\n  [105 149 110]\\n  [120 164 125]\\n  [126 170 129]]\\n [[126 170 139]\\n  [125 169 138]\\n  [125 170 137]\\n  ...\\n  [105 149 110]\\n  [120 164 125]\\n  [127 171 130]]]\\n\"}]], \"261\" [:div [:p] [:div [:p/code {:code \"(-> (tensor/compute-tensor original-shape\\n                           (fn [i j k]\\n                             (if (> (green i j)\\n                                    (* 1.5 (blue i j)))\\n                               0\\n                               (original-tensor i j k)))\\n                           :uint8)\\n    tensor->img)\", :bg-class \"bg-light\"}]] nil [:img {:src \"notespace-files/8150212.jpg\", :width 400}]], \"246\" [:div [:p] [:div [:p/code {:code \"(def original-tensor\\n  (tensor/ensure-tensor original-img))\", :bg-class \"bg-light\"}]] nil nil], \"250\" [:div [:p] [:div [:p/code {:code \"(def original-shape\\n  (dtype/shape original-tensor))\", :bg-class \"bg-light\"}]] nil nil], \"241\" [:div [:p] [:div [:p/code {:code \"(type original-img)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"java.awt.image.BufferedImage\\n\"}]], \"257\" [:div [:p] [:div [:p/code {:code \"(defn tensor->img [t]\\n  (let [new-img (bufimg/new-image (original-shape 0)\\n                                  (original-shape 1)\\n                                  :byte-bgr)]\\n    (dtype/copy! t\\n                 (tensor/ensure-tensor new-img))\\n    new-img))\", :bg-class \"bg-light\"}]] nil nil], \"239\" [:div [:p] nil nil [:p/markdown \"Inspired by:\\nhttps://realpython.com/numpy-tutorial/#practical-example-2-manipulating-images-with-matplotlib\"]], \"240\" [:div [:p] [:div [:p/code {:code \"(def original-img\\n  (bufimg/load \\\"https://files.realpython.com/media/kitty.90952ca484f1.jpg\\\"))\", :bg-class \"bg-light\"}]] nil nil], \"260\" [:div [:p] [:div [:p/code {:code \"(-> original-tensor\\n    (tensor/slice-right 1)\\n    (nth 1)\\n    (color-component->tensor-for-img 1)\\n    tensor->img)\", :bg-class \"bg-light\"}]] nil [:img {:src \"notespace-files/8048033.jpg\", :width 400}]], \"254\" [:div [:p] [:div [:p/code {:code \"(def green\\n  (-> original-tensor\\n      (tensor/slice-right 1)\\n      (nth 1)))\", :bg-class \"bg-light\"}]] nil nil], \"262\" [:div [:p] [:div [:p/code {:code \"(let [big-img (bufimg/new-image (* 4 (original-shape 0))\\n                                (* 4 (original-shape 1))\\n                                :byte-bgr)\\n      big-tensor (tensor/ensure-tensor big-img)\\n      subset1-of-big-tensor (-> big-tensor\\n                               (tensor/select\\n                                (range (original-shape 0))\\n                                (range (original-shape 1))))\\n      subset2-of-big-tensor (-> big-tensor\\n                               (tensor/select\\n                                (range (original-shape 0)\\n                                       (* 2 (original-shape 0)))\\n                                (range (original-shape 1)\\n                                       (* 2 (original-shape 1)))))]\\n  (dtype/copy! original-tensor subset1-of-big-tensor)\\n  (dtype/copy! original-tensor subset2-of-big-tensor)\\n  big-img)\", :bg-class \"bg-light\"}]] nil [:img {:src \"notespace-files/293552.jpg\", :width 400}]], \"252\" [:div [:p] [:div [:p/code {:code \"(-> original-tensor\\n    (tensor/slice-right 1))\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"[#tech.v3.tensor<uint8>[1299 1920]\\n[[ 54  46  47 ... 132 131 129]\\n [ 51  47  52 ... 134 134 134]\\n [ 56  47  43 ... 133 134 135]\\n ...\\n [132 131 131 ... 108 122 128]\\n [128 127 127 ... 105 120 126]\\n [126 125 125 ... 105 120 127]] #tech.v3.tensor<uint8>[1299 1920]\\n[[131 123 124 ... 171 170 168]\\n [128 124 129 ... 173 173 173]\\n [136 127 123 ... 172 173 174]\\n ...\\n [174 173 174 ... 149 164 171]\\n [172 171 172 ... 149 164 170]\\n [170 169 170 ... 149 164 171]] #tech.v3.tensor<uint8>[1299 1920]\\n[[ 97  89  90 ... 156 155 153]\\n [ 94  90  95 ... 158 158 158]\\n [101  92  88 ... 156 157 158]\\n ...\\n [143 142 141 ... 111 123 128]\\n [141 140 139 ... 110 125 129]\\n [139 138 137 ... 110 125 130]]]\\n\"}]], \"256\" [:div [:p] [:div [:p/code {:code \"(-> green\\n    dtype/shape)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"[1299 1920]\\n\"}]], \"255\" [:div [:p] [:div [:p/code {:code \"(def red\\n  (-> original-tensor\\n      (tensor/slice-right 1)\\n      (nth 2)))\", :bg-class \"bg-light\"}]] nil nil], \"245\" [:div [:p] [:div [:p/code {:code \"(bufimg/image-channel-format original-img)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \":bgr\\n\"}]], \"248\" [:div [:p] [:div [:p/code {:code \"(type original-tensor)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \"tech.v3.tensor.DirectTensor\\n\"}]], \"242\" [:div [:p] [:div [:p/code {:code \"original-img\", :bg-class \"bg-light\"}]] nil [:img {:src \"notespace-files/6207800.jpg\", :width 400}]], \"243\" [:div [:p] [:div [:p/code {:code \"(dtype/get-datatype original-img)\", :bg-class \"bg-light\"}]] nil [:p/code {:code \":uint8\\n\"}]]}}"</script>
    <script src="gorilla-notes/js/compiled/main.js"></script>
</html>
